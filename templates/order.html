{% extends 'base.html' %}

{% block title %}Place Order - Mr. Helper{% endblock %}

{% block content %}
<div class="max-w-xl mx-auto mt-10 p-6 bg-white rounded-2xl shadow-lg">
  <h2 class="text-2xl font-bold text-gray-800 mb-6 text-center">Place Service Order</h2>

  <form method="POST" enctype="multipart/form-data" class="space-y-5">
    
    <!-- Username (disabled) -->
    <div>
      <label class="block text-sm font-medium text-gray-700">Your Name</label>
      <input type="text" value="{{ session['username'] }}" disabled
             class="mt-1 w-full px-4 py-2 border border-gray-300 rounded-xl bg-gray-100 cursor-not-allowed">
    </div>

    <!-- Service selection -->
    <div>
      <label class="block text-sm font-medium text-gray-700">Service</label>
      <select name="service" required
              class="mt-1 w-full px-4 py-2 border border-gray-300 rounded-xl">
        <option value="" disabled selected>Select a service</option>
        {% for s in services %}
          <option value="{{ s['service_name'] }}">{{ s['service_name'] }}</option>
        {% endfor %}
      </select>
    </div>

    <!-- Location selection -->
    <div>
      <label class="block text-sm font-medium text-gray-700">Location</label>
      <select name="location" required
              class="mt-1 w-full px-4 py-2 border border-gray-300 rounded-xl">
        <option value="" disabled selected>Select a location</option>
        {% for loc in locations %}
          <option value="{{ loc['location_name'] }}">{{ loc['location_name'] }}</option>
        {% endfor %}
      </select>
    </div>

    <!-- Image upload -->
    <div>
      <label class="block text-sm font-medium text-gray-700">Upload Image (Optional)</label>
      <input type="file" name="image"
             class="mt-1 w-full px-4 py-2 border border-gray-300 rounded-xl file:bg-blue-500 file:text-white file:rounded-xl file:px-4 file:py-1 file:cursor-pointer">
    </div>

    <!-- Message textarea -->
    <div>
      <label class="block text-sm font-medium text-gray-700">Message</label>
      <textarea name="message" rows="4" placeholder="Describe your request..."
                class="mt-1 w-full px-4 py-2 border border-gray-300 rounded-xl resize-none"></textarea>
    </div>

    <div class="text-center">
      <button type="submit"
              class="bg-blue-600 hover:bg-blue-700 text-white px-6 py-2 rounded-xl shadow-md transition duration-200">
        Place Order
      </button>
    </div>
  </form>
</div>
{% endblock %}
